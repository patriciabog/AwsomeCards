{"version":3,"sources":["00_variables.js","01_collapsable.js","02_preview.js","03_share.js","04_reset.js","05_get-avatar.js","06_localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable quotes */\n'use strict';\n\n//Collapsable variables//\nconst designLegend = document.querySelector('.js_design-legend');\nconst designContent = document.querySelector('.js_design-content');\nconst fillLegend = document.querySelector('.js_fill-legend');\nconst fillContent = document.querySelector('.js_fill-content');\nconst shareLegend = document.querySelector('.js_share-legend');\nconst shareContent = document.querySelector('.js_share-content');\nconst arrowDesign = document.querySelector(\".js_arrow-design\");\nconst arrowFill = document.querySelector(\".js_arrow-fill\");\nconst arrowShare = document.querySelector(\".js_arrow-share\");\n\n//Form input variables//\nconst inputName = document.querySelector('.js_fill-name');\nconst inputJob = document.querySelector(\".js_fill-job\");\nconst inputEmail = document.querySelector(\".js_fill-email\");\nconst inputTel = document.querySelector(\".js_fill-tel\");\nconst inputLinkedin = document.querySelector(\".js_fill-linkedin\");\nconst inputGithub = document.querySelector(\".js_fill-github\");\n\n//Preview variables//\nconst previewName = document.querySelector(\".js_preview-name\");\nconst previewJob = document.querySelector(\".js_preview-job\");\nconst previewTel = document.querySelector(\".js_preview-tel\");\nconst previewEmail = document.querySelector(\".js_preview-email\");\nconst previewLinkedin = document.querySelector(\".js_preview-linkedin\");\nconst previewGithub = document.querySelector(\".js_preview-github\");\nconst previewCard = document.querySelector(\".js_preview-card\");\n\n\n//Input color palette variables//\nconst palette1 = document.querySelector(\".js_palette1\");\nconst palette2 = document.querySelector(\".js_palette2\");\nconst palette3 = document.querySelector(\".js_palette3\");\n\n//reset\nconst btnReset = document.querySelector(\".js_reset\");\n\n//avatar\nconst fileField = document.querySelector('.js__profile-upload-btn');\nconst profileImage = document.querySelector('.js__profile-image');\nconst profilePreview = document.querySelector('.js__profile-preview');\n\n//localStorage\nconst localStorageData = JSON.parse(localStorage.getItem(\"userData\"));\n","/* eslint-disable quotes */\n/* eslint-disable no-undef */\n\"use strict\";\n\nfunction handleClickDesign() {\n  fillContent.classList.add(\"collapsed\");\n  shareContent.classList.add(\"collapsed\");\n  designContent.classList.remove(\"collapsed\");\n  arrowDesign.classList.remove(\"arrow-collapsed\");\n  arrowFill.classList.add(\"arrow-collapsed\");\n  arrowShare.classList.add(\"arrow-collapsed\");\n}\n\nfunction handleClickFill() {\n  designContent.classList.add(\"collapsed\");\n  shareContent.classList.add(\"collapsed\");\n  fillContent.classList.remove(\"collapsed\");\n  arrowFill.classList.remove(\"arrow-collapsed\");\n  arrowDesign.classList.add(\"arrow-collapsed\");\n  arrowShare.classList.add(\"arrow-collapsed\");\n}\n\nfunction handleClickShare() {\n  designContent.classList.add(\"collapsed\");\n  fillContent.classList.add(\"collapsed\");\n  shareContent.classList.remove(\"collapsed\");\n  arrowShare.classList.remove(\"arrow-collapsed\");\n  arrowFill.classList.add(\"arrow-collapsed\");\n  arrowDesign.classList.add(\"arrow-collapsed\");\n}\n\ndesignLegend.addEventListener(\"click\", handleClickDesign);\n\nfillLegend.addEventListener(\"click\", handleClickFill);\n\nshareLegend.addEventListener(\"click\", handleClickShare);\n","/* eslint-disable quotes */\r\n/* eslint-disable no-undef */\r\n/* eslint-disable strict */\r\n\r\n// Fill info into preview card //\r\nlet data = {\r\n  palette: 1,\r\n  name: '',\r\n  job: '',\r\n  phone: '',\r\n  email: '',\r\n  linkedin: '',\r\n  github: '',\r\n  photo: '',\r\n};\r\n\r\n\r\n// Evento para escuchar a todos los inputs cuando se rellenan.\r\nconst inputList = document.querySelectorAll('.js__input');\r\n\r\nfunction handleInputList(event) {\r\n  data[event.target.id] = event.target.value;\r\n  updatePreview();\r\n}\r\n\r\nfor (const eachInput of inputList) {\r\n  eachInput.addEventListener('input', handleInputList);\r\n}\r\n\r\nconst updatePreview = () => {\r\n  if (data.name === '') {\r\n    previewName.innerHTML = 'Nombre Apellido';\r\n  } else {\r\n    previewName.innerHTML = data.name;\r\n  }\r\n\r\n  if (data.job === '') {\r\n    previewJob.innerHTML = 'Front-end developer';\r\n  } else {\r\n    previewJob.innerHTML = data.job;\r\n    previewJob.classList.remove(\"preview__card--link--disabled\");\r\n  }\r\n  previewTel.href = `tel:${data.phone}`;\r\n  previewTel.classList.remove(\"preview__card--link--disabled\");\r\n  previewEmail.href = `mailto:${data.email}`;\r\n  previewEmail.classList.remove(\"preview__card--link--disabled\");\r\n  previewLinkedin.href = data.linkedin;\r\n  previewLinkedin.classList.remove(\"preview__card--link--disabled\");\r\n  previewGithub.href = data.github;\r\n  previewGithub.classList.remove(\"preview__card--link--disabled\");\r\n  // if (profileImage.style.backgroundImage===\"\"){\r\n  //   profileImage.style.backgroundImage = `url(../images/image-preview-default.jpg)`;\r\n  //   profilePreview.style.backgroundImage = `url(../images/image-preview-default.jpg)`;\r\n  // }\r\n\r\n  localStorage.setItem(\"userData\", JSON.stringify(data));\r\n};\r\n\r\n\r\n// Change colors palette //\r\n\r\nfunction handleClickPalettes(event) {\r\n  const target = event.target.id;\r\n  if (target === \"color_1\") {\r\n    previewCard.classList.remove(\"palette2\");\r\n    previewCard.classList.remove(\"palette3\");\r\n    previewCard.classList.add(\"palette1\");\r\n    data.palette = \"1\";\r\n  }\r\n\r\n  if (target === \"color_2\") {\r\n    previewCard.classList.remove(\"palette1\");\r\n    previewCard.classList.remove(\"palette3\");\r\n    previewCard.classList.add(\"palette2\");\r\n    data.palette = \"2\";\r\n  }\r\n\r\n  if (target === \"color_3\") {\r\n    previewCard.classList.remove(\"palette2\");\r\n    previewCard.classList.remove(\"palette1\");\r\n    previewCard.classList.add(\"palette3\");\r\n    data.palette = \"3\";\r\n  }\r\n}\r\n\r\ndesignContent.addEventListener(\"click\", handleClickPalettes);\r\n\r\n//botón reset\r\nconst handleClickReset = (ev) => {\r\n  ev.preventDefault();\r\n  data.palette = 1;\r\n  data.name = \"\";\r\n  data.job = \"\";\r\n  data.phone = \"\";\r\n  data.email = \"\";\r\n  data.linkedin = \"\";\r\n  data.github = \"\";\r\n  data.photo = \"\";\r\n  palette1.checked = true;\r\n  inputName.value = \"\";\r\n  inputJob.value = \"\";\r\n  inputEmail.value = \"\";\r\n  inputTel.value = \"\";\r\n  inputLinkedin.value = \"\";\r\n  inputGithub.value = \"\";\r\n  previewCard.classList.remove(\"palette2\");\r\n  previewCard.classList.remove(\"palette3\");\r\n  previewCard.classList.add(\"palette1\");\r\n  profileImage.style.backgroundImage = data.photo;\r\n  profilePreview.style.backgroundImage = data.photo;\r\n  updatePreview();\r\n  localStorage.removeItem(\"userData\");\r\n};\r\n\r\nbtnReset.addEventListener(\"click\", handleClickReset);","'use strict';\n\nconst sendBtn = document.querySelector('.js_create_button');\nconst infoText = document.querySelector('.js_infoText');\nconst btnTwitter = document.querySelector('.js_buttonTwitter');\nconst shareLink = document.querySelector('.js_shareLink');\nconst shareLinkTwitter = document.querySelector('.js_shareLinkTwitter');\nconst contentButton = document.querySelector('.js_shareButtonContent');\n\nfunction handleClickSend(event){ //dentro de esta función tiene q ocurrir el FETCH, para q cuando la usuaria haga click los datos se envíen\n    event.preventDefault();\n    fetch('https://dev.adalab.es/api/card/',\n        {\n            method: 'POST',\n            headers:{'content-type': 'application/json'},\n            body: JSON.stringify(data),\n        })\n        .then(response => response.json())\n        .then((data) =>{\n            console.log(data);\n            if( ! data.success){ \n                infoText.innerHTML = data.error;\n                shareLink.href='';\n            }else{\n                infoText.innerHTML=\"La tarjeta ha sido creada\";\n                shareLink.classList.remove('collapsed');\n                shareLink.href = data.cardURL;\n                shareLink.innerHTML = data.cardURL;\n                btnTwitter.classList.remove('collapsed');\n                shareLinkTwitter.href = `https://twitter.com/intent/tweet?text=Echa%20un%20vistazo%20a%20mi%20tarjeta:&url=${data.cardURL}`;\n                contentButton.classList.add('selected');\n            }\n        });\n}\nsendBtn.addEventListener('click', handleClickSend);","/* eslint-disable quotes */\r\n/* eslint-disable no-undef */\r\n'use strict';\r\n\r\n\r\n","'use strict';\n\nconst fr = new FileReader();\n\n\n\n/**\n * Recoge el archivo añadido al campo de tipo \"file\"\n * y lo carga en nuestro objeto FileReader para que \n * lo convierta a algo con lo que podamos trabajar.\n * Añade un listener al FR para que ejecute una función\n * al tener los datos listos\n * @param {evento} e \n */\nfunction getImage(e){\n  const myFile = e.currentTarget.files[0];\n  fr.addEventListener('load', writeImage);\n  fr.readAsDataURL(myFile);\n}\n\n\n/**\n * Una vez tenemos los datos listos en el FR podemos\n * trabajar con ellos ;)\n */\nfunction writeImage() {\n  /* En la propiedad `result` de nuestro FR se almacena\n   * el resultado. Ese resultado de procesar el fichero que hemos cargado\n   * podemos pasarlo como background a la imagen de perfil y a la vista previa\n   * de nuestro componente.\n   */\n  profileImage.style.backgroundImage = `url(${fr.result})`;\n  profilePreview.style.backgroundImage = `url(${fr.result})`;\n  data.photo = fr.result;\n}\n\n\n/**\n * Añadimos los listeners necesarios:\n * - al botón visible para generar el click automático\n * - al campo oculto para cuando cambie su value\n */\nfileField.addEventListener('change', getImage);","if (localStorageData) {\r\n  data = localStorageData;\r\n\r\n  inputName.value = data.name;\r\n  inputJob.value = data.job;\r\n  inputEmail.value = data.email;\r\n  inputTel.value = data.phone;\r\n  inputLinkedin.value = data.linkedin;\r\n  inputGithub.value = data.github;\r\n\r\n  if (data.palette === \"1\") {\r\n    palette1.checked = true;\r\n    previewCard.classList.remove(\"palette2\");\r\n    previewCard.classList.remove(\"palette3\");\r\n    previewCard.classList.add(\"palette1\");\r\n  } else if (data.palette === \"2\") {\r\n    palette2.checked = true;\r\n    previewCard.classList.remove(\"palette1\");\r\n    previewCard.classList.remove(\"palette3\");\r\n    previewCard.classList.add(\"palette2\");\r\n  } else {\r\n    palette3.checked = true;\r\n    previewCard.classList.remove(\"palette2\");\r\n    previewCard.classList.remove(\"palette1\");\r\n    previewCard.classList.add(\"palette3\");\r\n  }\r\n\r\n  updatePreview();\r\n}\r\n"]}